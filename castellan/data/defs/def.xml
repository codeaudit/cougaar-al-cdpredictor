<TABLEDEFLIST>

  <CREATETABLE>

      CREATE TABLE TASK (
        TASKUID          BIGINT NOT NULL,
        TASKSID          VARCHAR(20) NOT NULL,
        CREATEDEXECUTION BIGINT,
        VERB             VARCHAR(30),
        MPTASK           INT,
	SOURCE		 VARCHAR(20),
	PARENTID	 BIGINT,       
	PARENTSID        VARCHAR(20),  
        TEVENTTYPE       INT,
	TEVENTTIME	 BIGINT NOT NULL,
        INDEX   PI  (TASKUID, TASKSID, TEVENTTIME),
        PRIMARY KEY (TASKUID, TASKSID, TEVENTTIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE PLAN_ELEMENT (
        PEUID            BIGINT NOT NULL,
        PESID            VARCHAR(20) NOT NULL,
        TYPE             INT,
	SOURCE		 VARCHAR(20),
	CREATEDEXECUTION BIGINT,		
	PEVENTTYPE       INT,
        PEVENTTIME       BIGINT NOT NULL,
        INDEX	PI (PEUID, PESID, PEVENTTIME),
        PRIMARY KEY (PEUID, PESID, PEVENTTIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE ASSET (
        ASSETUID         BIGINT NOT NULL,
        ASID             VARCHAR(20) NOT NULL,
        ITEMID           TINYTEXT,
        TYPEID           TINYTEXT,
	SOURCE		 VARCHAR(20),
	ASSETCLASS	 VARCHAR(80),   
        CREATEDEXECUTION BIGINT,	
	AEVENTTYPE       INT,
        AEVENTTIME       BIGINT NOT NULL,
        INDEX   PI (ASSETUID, ASID, AEVENTTIME),
        PRIMARY KEY (ASSETUID, ASID, AEVENTTIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE ALLOC_RESULT (
        PEUID        BIGINT NOT NULL,
        PESID        VARCHAR(20) NOT NULL,
	SOURCE	     VARCHAR(20),
	CREATEDEXECUTION BIGINT,	
	PEVENTTYPE   INT NOT NULL,		
	PEVENTTIME   BIGINT NOT NULL,
	ARTYPE       INT NOT NULL,
        SUCCESS      TINYINT,
        TOTALSCORE   FLOAT,
	CONFIDENCE   FLOAT,
        FOREIGN KEY (PEUID)       REFERENCES PLAN_ELEMENT ON DELETE CASCADE ON UPDATE CASCADE,
        FOREIGN KEY (PEVENTTIME)  REFERENCES PLAN_ELEMENT ON DELETE CASCADE ON UPDATE CASCADE,
        INDEX PI (PEUID, PESID, PEVENTTYPE, PEVENTTIME, ARTYPE),
        PRIMARY KEY (PEUID, PESID, PEVENTTYPE, PEVENTTIME, ARTYPE)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE PREFERENCE (
        TASKUID       BIGINT NOT NULL,
        SID           VARCHAR(20) NOT NULL,
        TEVENTTIME    BIGINT NOT NULL,
        ASPECTTYPE    INT NOT NULL,
        WEIGHT        FLOAT,
        FOREIGN KEY (TASKUID)   REFERENCES TASK ON DELETE CASCADE ON UPDATE CASCADE,
        FOREIGN KEY (TEVENTTIME) REFERENCES TASK ON DELETE CASCADE ON UPDATE CASCADE,
        INDEX PI (TASKUID, SID, ASPECTTYPE, TEVENTTIME),
        PRIMARY KEY (TASKUID, SID, ASPECTTYPE, TEVENTTIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE SCORE (
        PEUID        BIGINT NOT NULL,
        PESID        VARCHAR(20) NOT NULL,
	PEVENTTYPE   INT NOT NULL,		
	PEVENTTIME   BIGINT NOT NULL,
	ARTYPE       INT NOT NULL,
        ASPECTTYPE   INT NOT NULL,
	VALUE	     VARCHAR(30),
	SCORE        FLOAT,
        FOREIGN KEY (PEUID) REFERENCES ALLOCATION_RESULT ON DELETE CASCADE ON UPDATE CASCADE,
        INDEX PI (PEUID, PESID, PEVENTTYPE, PEVENTTIME, ARTYPE, ASPECTTYPE),
        PRIMARY KEY (PEUID, PESID, PEVENTTYPE, PEVENTTIME, ARTYPE, ASPECTTYPE)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE ALLOC_TASK_ON (
        PEUID        BIGINT NOT NULL,
        ASSETUID     BIGINT NOT NULL,
        PESID        VARCHAR(20) NOT NULL,
        ASID         VARCHAR(20) NOT NULL,
	CREATEDEXECUTION BIGINT,		
	PEVENTTYPE   INT NOT NULL,		
        PEVENTTIME   BIGINT NOT NULL,
        FOREIGN KEY (PEUID)    REFERENCES PLAN_ELEMENT ON DELETE CASCADE,
        FOREIGN KEY (ASSETUID) REFERENCES ASSET,
        FOREIGN KEY (PEVENTTYPE) REFERENCES PLAN_ELEMENT ON DELETE CASCADE ON UPDATE CASCADE,
        FOREIGN KEY (PEVENTTIME) REFERENCES PLAN_ELEMENT ON DELETE CASCADE ON UPDATE CASCADE,
        INDEX PI    (PEUID, ASSETUID, PESID, ASID, PEVENTTYPE, PEVENTTIME),
        PRIMARY KEY (PEUID, ASSETUID, PESID, ASID, PEVENTTYPE, PEVENTTIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE PROCESSED_BY(
        PEUID        BIGINT NOT NULL,
        PESID        VARCHAR(20) NOT NULL,
        TASKUID      BIGINT NOT NULL,
        TASKSID      VARCHAR(20) NOT NULL,
        PROCESSED    TINYINT,
	CREATEDEXECUTION BIGINT,		
	PEVENTTYPE       INT,				
        PEVENTTIME       BIGINT NOT NULL,		
        FOREIGN KEY (PEUID)   REFERENCES PLAN_ELEMENT,
        FOREIGN KEY (TASKUID) REFERENCES TASK,
        INDEX PI (TASKUID, TASKSID, PEUID, PESID, PEVENTTIME),
        PRIMARY KEY (TASKUID, TASKSID, PEUID, PESID, PEVENTTIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE EVENTPDU (
        ID         BIGINT NOT NULL,
        SID        VARCHAR(20) NOT NULL,
        TIME       BIGINT NOT NULL,
        TYPE       INT NOT NULL,
	  ARTYPE     INT NOT NULL,
	  EVENTTYPE  INT NOT NULL,
	  PDU		 BLOB,
        INDEX   EPDU (TIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE SIDTABLE(
        CLUSTERNAME  VARCHAR(20) NOT NULL,
        SID          INT NOT NULL,
        INDEX PI (CLUSTERNAME),
        INDEX AI (SID),
        PRIMARY KEY (SID)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE NUMBER_OF_TASK (
        NUMBER_OF_TASK   INT,
        SID              VARCHAR(20) NOT NULL,
        TIME             BIGINT NOT NULL,
        INDEX   T       (TIME),
        PRIMARY KEY     (TIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE TIME_TO_ALLOCATE (
        TIME_TO_ALLOCATE BIGINT,
        SID              VARCHAR(20) NOT NULL,
        TIME             BIGINT NOT NULL,
        INDEX   T       (TIME),
        PRIMARY KEY     (TIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE TIME_TO_RESPOND (
        TIME_TO_RESPOND   INT,
        SID              VARCHAR(20) NOT NULL,
        TIME             BIGINT NOT NULL,
        INDEX   T       (TIME),
        PRIMARY KEY     (TIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE TASK_ARRIVAL_RATE (
        TASK_ARRIVAL_RATE   FLOAT,
        SID                 VARCHAR(20) NOT NULL,
        TIME                BIGINT NOT NULL,
        INDEX   T       (TIME),
        PRIMARY KEY     (TIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE LOCAL_GENERATION_RATE (
        LOCAL_GENERATION_RATE  FLOAT,
        SID              VARCHAR(20) NOT NULL,
        TIME             BIGINT NOT NULL,
        INDEX   T       (TIME),
        PRIMARY KEY     (TIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE RESCIND_RATE (
        RESCIND_RATE     FLOAT,
        SID              VARCHAR(20) NOT NULL,
        TIME             BIGINT NOT NULL,
        INDEX   T       (TIME),
        PRIMARY KEY     (TIME)
      )

  </CREATETABLE>

   <CREATETABLE>

      CREATE TABLE ALLOCATION_RATE (
        ALLOCATION_RATE   FLOAT,
        SID              VARCHAR(20) NOT NULL,
        TIME             BIGINT NOT NULL,
        INDEX   T       (TIME),
        PRIMARY KEY     (TIME)
      )

  </CREATETABLE>

  <CREATETABLE>

      CREATE TABLE ALLOCATION_SUCCESS_RATE (
        ALLOCATION_SUCCESS_RATE  FLOAT,
        SID              VARCHAR(20) NOT NULL,
        TIME             BIGINT NOT NULL,
        INDEX   T       (TIME),
        PRIMARY KEY     (TIME)
      )

  </CREATETABLE>


  <CREATETABLE>

      CREATE TABLE TASKNOAR (
        NUMBER_OF_TASKNOAR INT,
        SID              VARCHAR(20) NOT NULL,
        TIME             BIGINT NOT NULL,
        INDEX   T       (TIME),
        PRIMARY KEY     (TIME)
      )

  </CREATETABLE>

</TABLEDEFLIST>